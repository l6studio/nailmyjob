<% content_for :title, "Reset Password - NailMyJob" %>

<div class="min-h-[80vh] flex items-center justify-center px-4 py-12">
  <div class="w-full max-w-sm">
    <%# Header %>
    <div class="text-center mb-10">
      <a href="/" class="inline-block mb-6">
        <span style="font-family: 'DM Sans', sans-serif; font-weight: 700; font-size: 1.6rem; color: #1a1a1a; letter-spacing: -0.02em;">nailmyjob</span>
      </a>
      <h1 class="text-3xl font-black text-stone-900 mb-2">Set a new password</h1>
      <p class="text-stone-500">Choose a strong password you'll remember.</p>
    </div>

    <%# Form %>
    <%= form_for(resource, as: resource_name, url: password_path(resource_name), html: { method: :put }, data: { turbo: false }) do |f| %>
      <%= f.hidden_field :reset_password_token %>

      <% if resource.errors.any? %>
        <div class="bg-red-50 border border-red-200 rounded-xl p-4 mb-6">
          <p class="font-bold text-red-800 mb-1">Something went wrong</p>
          <ul class="text-red-700 text-sm list-disc list-inside">
            <% resource.errors.full_messages.each do |message| %>
              <li><%= message %></li>
            <% end %>
          </ul>
        </div>
      <% end %>

      <div class="space-y-5">
        <div>
          <label class="block text-sm font-bold text-stone-700 mb-1">New password</label>
          <%= f.password_field :password, 
              autofocus: true, 
              autocomplete: "new-password",
              placeholder: "At least 6 characters" %>
        </div>

        <div>
          <label class="block text-sm font-bold text-stone-700 mb-1">Confirm new password</label>
          <%= f.password_field :password_confirmation, 
              autocomplete: "new-password",
              placeholder: "Type it again" %>
        </div>

        <div class="pt-2">
          <%= f.submit "Reset password", class: "btn-primary w-full cursor-pointer" %>
        </div>
      </div>
    <% end %>

    <%# Links %>
    <div class="mt-8 text-center">
      <p class="text-stone-600">
        Remember your password?
        <%= link_to "Sign in", new_session_path(resource_name), class: "text-emerald-700 hover:text-emerald-800 font-bold" %>
      </p>
    </div>
  </div>
</div>
